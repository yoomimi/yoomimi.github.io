<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>LoL MBTI Finder</title>
  <meta name="author" content="Mijin Yoo">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="images/favicon/melody.ico" type="image/x-icon">
  <link rel="stylesheet" href="stylesheet.css">
  <style>
    body {
      background-color: #fffdf7;
      font-family: sans-serif;
      margin: 0;
    }
    .container {
      max-width: 800px;
      margin: auto;
      padding: 40px 20px;
    }
    .question-block {
      margin-bottom: 30px;
      padding: 20px;
      background: #fef0f4;
      border-radius: 10px;
    }
    .question-title {
      font-weight: bold;
      margin-bottom: 10px;
    }
    .result {
      margin-top: 40px;
      font-size: 1.2em;
      text-align: center;
    }
    button {
      background-color: #f4c2c2;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1em;
      margin: 5px;
    }
    button:hover {
      background-color: #e8a1a1;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1 style="text-align:center;">ğŸ’Œë¯¸ë¯¸ê°€ ì•Œë ¤ì¤„ê²Œ, ë„ˆì™€ ì–´ìš¸ë¦¬ëŠ” ë¡¤ ì±”í”¼ì–¸ğŸ®</h1>
    <div id="genderBlock" class="question-block">
        <div class="question-title">ì„±ë³„ì„ ì„ íƒí•˜ì„¸ìš”:</div>
        <label><input type="radio" name="gender" value="male"> ë‚¨ì„±</label><br>
        <label><input type="radio" name="gender" value="female"> ì—¬ì„±</label><br><br>
        <div style="text-align:center;">
            <button type="button" onclick="startTest()">ì‹œì‘í•˜ê¸°</button>
        </div>
    </div>

    <form id="mbtiForm" style="display: none;">
      <div id="progress-container" style="margin-bottom: 20px;">
        <div id="progress-bar-bg" style="background-color: #ffe4ec; height: 12px; border-radius: 6px; overflow: hidden;">
            <div id="progress-bar" style="width: 0%; height: 100%; background-color: #f4c2c2; transition: width 0.3s ease;"></div>
        </div>
        <div id="progress-text" style="text-align: center; margin-top: 8px;"><strong>1 / 12</strong></div>
      </div>


      <div class="question-block" id="questionBlock"></div>

      <div style="text-align:center;">
        <button type="button" id="restartBtn">ì²˜ìŒìœ¼ë¡œ</button>
        <button type="button" id="prevBtn">ì´ì „</button>
        <button type="button" id="nextBtn">ë‹¤ìŒ</button>
        <button type="submit" id="submitBtn" style="display:none;">ê²°ê³¼ ë³´ê¸°</button>
      </div>
    </form>

    <div class="result" id="resultBox"></div>
  </div>

  <script>

  
    const questions = [
      { name: "ei1", type: "E/I", text: "3ì¸í í•˜ë ¤ëŠ”ë° ì¹œêµ¬ê°€ í•˜ëŠ” ë§, ë‚´ ì¹œêµ¬ 2ëª… ë¶ˆëŸ¬ë„ ë¼?", options: ["ì˜¤ 5ì¸í? ë‹¹ì¥ ë¶ˆëŸ¬.", "ë‚œ ê·¸ëƒ¥ 3ì¸íë„ ì¢‹ì€ë°.."] },
      { name: "ei2", type: "E/I", text: "ì–´ì©Œë‹¤ ì°¸ê°€í•˜ê²Œ ëœ ì§€ì¸ ë°° 5ëŒ€5. ë””ìŠ¤ì½”ë“œì—ì„œì˜ ë‚˜,", options: ["ë‚´ì „? ë„íŒŒë¯¼ í„°ì§€ë„¤, ì ê·¹ ë³´ì´ìŠ¤!", "ì£¼ë¡œ ë“£ëŠ”ë‹¤. í•„ìš”í•œ ì˜¤ë”ë§Œ!"] },
      { name: "ei3", type: "E/I", text: "ìƒˆ ì‹œì¦Œ ì‹œì‘! ì´ë²ˆ ì£¼ë§ì´ë©´ ë‚˜ëŠ”?", options: ["ì¹œêµ¬ ëª¨ì•„ì„œ ê°™ì´ ì™€ì¥ì°½ ëŒë¦´ ì¤€ë¹„ ì™„.", "ë‚´ ë£¨í‹´ëŒ€ë¡œ ì—°ìŠµë¶€í„°. í˜¼ìë§Œì˜ ì—°ë§ˆë¥¼ ì‹œì‘í•˜ì§€."] },
      { name: "sn1", type: "S/N", text: "ìƒˆë¡œìš´ íŒ¨ì¹˜ê°€ ë–´ë‹¤.", options: ["êµ¬ì²´ì ì¸ ìˆ˜ì¹˜ ë³€í™”ë¶€í„° ë³¸ë‹¤.", "ì „ì²´ì ì¸ ë©”íƒ€ íë¦„ íŒŒì•… ë¨¼ì €."] },
      { name: "sn2", type: "S/N", text: "ë¼ì¸ì „ì—ì„œ CSë¥¼ ë¨¹ì„ ë•Œ", options: ["ì •í™•í•œ íƒ€ì´ë° ê³„ì‚°ì´ ì¤‘ìš”í•´.", "ë¼ì¸ì „ì€ ê³§ ì‹¬ë¦¬ì „. ìƒëŒ€ ì‹¬ë¦¬ íŒŒì•…ì´ ì¤‘ìš”í•´."] },
      { name: "sn3", type: "S/N", text: "ì†”ì§íˆ ë‚´ ì›í”½ì±”, ì´ë ‡ê²Œ ê³¨ë¼ì¡Œë‹¤.", options: ["ìŠ¹ë¥ , í‹°ì–´í‘œ, í”½ë¥  ì°¸ê³ . í™•ì‹ ì˜ ê°•ì±”.", "ëŠë‚Œ, ìŠ¤íƒ€ì¼, ë„ˆê°€ ë‚˜ë¥¼ ì´ë¦¬ë¡œ ì´ëŒì—ˆë‹¤."] },
      { name: "ft1", type: "F/T", text: "íŒ€ì›ì´ íŠ¸ë¡¤ì„ í–ˆë‹¤. ê³ ì˜ëŠ” ì•„ë‹Œ ê²ƒ ê°™ì€ë°,", options: ["ê·¸ë˜ ìŸ¤ë„ ì–¼ë§ˆë‚˜ ê³ ìƒì´ëƒ. ë‚´ê°€ ìºë¦¬í•´ë³´ì.", "ë¡¤ì€ íŒ€ ê²Œì„. ë„Œ ë‚˜ê°€ë¼."] },
      { name: "ft2", type: "F/T", text: "ì¹œêµ¬ê°€ ì´ ì±”í”¼ì–¸ ì˜ˆì˜ì§€ ì•Šëƒê³  í•œë‹¤. ê·¸ëŸ°ë° í•˜ë‚˜ë„ ì•ˆ ì˜ˆì˜ë‹¤. ë‚˜ì˜ ëŒ€ë‹µì€?", options: ["ê´œì°®ì€ë°?", "í•˜ë‚˜ë„ ì•ˆ ì˜ˆë»."] },
      { name: "ft3", type: "F/T", text: "ê°™ì´ í•˜ëŠ” ì¹œêµ¬ê°€ ìê¾¸ ê°™ì€ ì‹¤ìˆ˜ë¥¼ ë°˜ë³µí•œë‹¤. ì´ íŒì´ ëë‚˜ê³  ë‚˜ëŠ”?", options: ["ë¶„ìœ„ê¸° ë§ì¹ ê¹Œ ë´ ê·¸ëƒ¥ ë„˜ì–´ê°„ë‹¤.", "í™•ì‹¤í•˜ê²Œ ë­ê°€ ë¬¸ì œì¸ì§€ ì–˜ê¸°í•´ì¤€ë‹¤."] },
      { name: "pj1", type: "P/J", text: "í”½ì°½ì—ì„œ ì±”í”¼ì–¸ì„ ê³ ë¥´ë ¤ë‹¤ ì‹œê°„ì´ ë‹¤ ëë‹¤. ëœë¤ìœ¼ë¡œ ê³¨ë¼ì§„ ì±”í”¼ì–¸.. ë‚´ ë°˜ì‘ì€?", options: ["(ì• ì¨) ì˜¤íˆë ¤ ì¢‹ì•„. ê°€ëŠ” ê±°ì•¼!", "... (ì´ë²ˆ íŒ ë‚´ë‚´ ì°ì°í•¨)"] },
      { name: "pj2", type: "P/J", text: "í•  ì¼ì´ ë‚¨ì•˜ëŠ”ë° ì¹œêµ¬ê°€ ê²Œì„í•˜ìê³  í•œë‹¤.", options: ["ê·¸ë˜, ê°™ì´ ê²Œì„í•˜ë ¤ë©´ ì§€ê¸ˆ í•´ì•¼ì§€. í•  ì¼ì€ 2ì‹œê°„ ë’¤ì— í• ë˜.", "ì¼ë‹¨ í•  ì¼ ëë‚˜ë©´ ì—°ë½ ì¤€ë‹¤ê³  ë§í•˜ê³  í•˜ë ¤ë˜ ì¼ë¶€í„°."] },
      { name: "pj3", type: "P/J", text: "ì´ë²ˆ ì‹œì¦Œ ëª©í‘œëŠ” í”Œë˜í‹°ë„˜. ì–´ë–»ê²Œ ì ‘ê·¼í• ê¹Œ?", options: ["ì¼ë‹¨ íë¶€í„° ëŒë¦¬ê³  ë³´ì. í•˜ë‹¤ ë³´ë©´ ì˜¤ë¥´ê² ì§€.", "ê°ì¢… ìœ íŠœë¸Œ ì°¸ê³ . ëª©í‘œ, ìŠ¤ì¼€ì¤„, ì±”í”„ í­ ì¢€ ì§œë‘ê³  ì°¨ê·¼ì°¨ê·¼ ê°„ë‹¤."] }
    ];

    let currentIndex = 0;
    const answers = {};
    let gender = "";

    const questionBlock = document.getElementById("questionBlock");
    const restartBtn = document.getElementById("restartBtn");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const submitBtn = document.getElementById("submitBtn");

    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
        }
    }

    shuffle(questions);  // ì§ˆë¬¸ ì„ê¸° ì‹¤í–‰

    function startTest() {
        const selected = document.querySelector('input[name="gender"]:checked');
        if (!selected) {
        alert("ì„±ë³„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.");
        return;
        }
        gender = selected.value;
        document.getElementById("genderBlock").style.display = "none";
        document.getElementById("mbtiForm").style.display = "block";
        renderQuestion(currentIndex);
    }

    function renderQuestion(index) {
      const q = questions[index];
      const progressPercent = ((index + 1) / questions.length) * 100;
      document.getElementById("progress-bar").style.width = `${progressPercent}%`;
      document.getElementById("progress-text").innerHTML = `<strong>${index + 1} / ${questions.length}</strong>`;
      const selected = answers[q.name] || "";
      questionBlock.innerHTML = `
        <div class="question-title">${q.text}</div>
        ${q.options.map(opt => `
          <label>
            <input type="radio" name="${q.name}" value="${opt}" ${selected === opt ? "checked" : ""}> ${opt}
          </label><br>`).join("")}
      `;
      prevBtn.style.display = index > 0 ? "inline-block" : "none";
      nextBtn.style.display = index < questions.length - 1 ? "inline-block" : "none";
      submitBtn.style.display = index === questions.length - 1 ? "inline-block" : "none";
    }


    document.addEventListener("keydown", function(e) {
        if (e.key === "Enter") {
            const isFormVisible = document.getElementById("mbtiForm").style.display !== "none";

            if (isFormVisible && currentIndex < questions.length - 1) {
            e.preventDefault();
            nextBtn.click();  // ë‹¤ìŒ ë²„íŠ¼ ëˆ„ë¥¸ ê²ƒì²˜ëŸ¼ ë™ì‘
            }
        }
    });


    function saveAnswer() {
      const q = questions[currentIndex];
      const selected = document.querySelector(`input[name="${q.name}"]:checked`);
      if (selected) answers[q.name] = selected.value;
    }

    renderQuestion(currentIndex);

    restartBtn.onclick = () => {
        // ìƒíƒœ ì´ˆê¸°í™”
        currentIndex = 0;
        for (const key in answers) delete answers[key];
        gender = "";

        // UI ì´ˆê¸°í™”
        document.getElementById("mbtiForm").style.display = "none";
        document.getElementById("genderBlock").style.display = "block";
        document.getElementById("resultBox").innerHTML = "";

        // ë¼ë””ì˜¤ ì„ íƒ í•´ì œ
        document.querySelectorAll('input[name="gender"]').forEach(el => el.checked = false);
    };

    prevBtn.onclick = () => {
      saveAnswer();
      if (currentIndex > 0) {
        currentIndex--;
        renderQuestion(currentIndex);
      }
    };

    nextBtn.onclick = () => {
      if (!document.querySelector(`input[name="${questions[currentIndex].name}"]:checked`)) {
        alert("ë‹µë³€ì„ ì„ íƒí•´ì£¼ì„¸ìš”.");
        return;
      }
      saveAnswer();
      if (currentIndex < questions.length - 1) {
        currentIndex++;
        renderQuestion(currentIndex);
      }
    };

    document.getElementById("mbtiForm").onsubmit = function(e) {
      e.preventDefault();
      saveAnswer();

      const ei = [answers["ei1"], answers["ei2"], answers["ei3"]];
      const sn = [answers["sn1"], answers["sn2"], answers["sn3"]];
      const ft = [answers["ft1"], answers["ft2"], answers["ft3"]];
      const pj = [answers["pj1"], answers["pj2"], answers["pj3"]];

      function majority(arr, priorityOrder) {
        const count = {};
        arr.forEach(v => {
          if (v) count[v] = (count[v] || 0) + 1;
        });

        const [a, b] = priorityOrder;
        const aCount = count[a] || 0;
        const bCount = count[b] || 0;

        if (aCount > bCount) return a;
        if (bCount > aCount) return b;

        // ë™ì ì¼ ê²½ìš° ìš°ì„ ìˆœìœ„ ì ìš©
        return a;
      }



      const mbti =
        majority(ei, ["E", "I"]) +
        majority(sn, ["S", "N"]) +
        majority(ft, ["F", "T"]) +
        majority(pj, ["P", "J"]);


      const champions = {
        "INTJ": {
            male: {
            name: "ì œë“œ",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Zed_0.jpg"
            },
            female: {
            name: "ë¦¬ì‚°ë“œë¼",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Lissandra_0.jpg"
            }
        },
        "INTP": {
            male: {
            name: "ë¹…í† ë¥´",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Viktor_0.jpg"
            },
            female: {
            name: "ë²¨ì½”ì¦ˆ",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Velkoz_0.jpg"
            }
        },
        "ENTJ": {
            male: {
            name: "ìŠ¤ì›¨ì¸",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Swain_0.jpg"
            },
            female: {
            name: "ë ˆë„¥í†¤",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Renekton_0.jpg"
            }
        },
        "ENTP": {
            male: {
            name: "ì—ì½”",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Ekko_0.jpg"
            },
            female: {
            name: "ì´ë¸”ë¦°",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Evelynn_0.jpg"
            }
        },
        "INFJ": {
            male: {
            name: "ì•¼ìŠ¤ì˜¤",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Yasuo_0.jpg"
            },
            female: {
            name: "ì¹´ë¥´ë§ˆ",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Karma_0.jpg"
            }
        },
        "INFP": {
            male: {
            name: "ë°”ë£¨ìŠ¤",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Varus_0.jpg"
            },
            female: {
            name: "ìœ ë¯¸",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Yuumi_0.jpg"
            }
        },
        "ENFJ": {
            male: {
            name: "ë¸Œë¼ì›€",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Braum_0.jpg"
            },
            female: {
            name: "ì„¸ë‚˜",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Senna_0.jpg"
            }
        },
        "ENFP": {
            male: {
            name: "ë¼ì¹¸",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Rakan_0.jpg"
            },
            female: {
            name: "ì§•í¬ìŠ¤",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Jinx_0.jpg"
            }
        },
        "ISTJ": {
            male: {
            name: "ë§íŒŒì´íŠ¸",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Malphite_0.jpg"
            },
            female: {
            name: "ì¼€ì¼",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Kayle_0.jpg"
            }
        },
        "ISFJ": {
            male: {
            name: "ëŸ¼ë¸”",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Rumble_0.jpg"
            },
            female: {
            name: "ì†Œë¼ì¹´",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Soraka_0.jpg"
            }
        },
        "ESTJ": {
            male: {
            name: "íŒí…Œì˜¨",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Pantheon_0.jpg"
            },
            female: {
            name: "ë ˆì˜¤ë‚˜",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Leona_0.jpg"
            }
        },
        "ESFJ": {
            male: {
            name: "ê°ˆë¦¬ì˜¤",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Galio_0.jpg"
            },
            female: {
            name: "ë£°ë£¨",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Lulu_0.jpg"
            }
        },
        "ISTP": {
            male: {
            name: "ê·¸ë ˆì´ë¸Œì¦ˆ",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Graves_0.jpg"
            },
            female: {
            name: "ì¹´íƒ€ë¦¬ë‚˜",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Katarina_0.jpg"
            }
        },
        "ISFP": {
            male: {
            name: "ì¼€ë„¨",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Kennen_0.jpg"
            },
            female: {
            name: "ì•„ë¦¬",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Ahri_0.jpg"
            }
        },
        "ESTP": {
            male: {
            name: "ë“œë ˆì´ë¸",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Draven_0.jpg"
            },
            female: {
            name: "ë‹ˆì½”",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Neeko_0.jpg"
            }
        },
        "ESFP": {
            male: {
            name: "ë¸Œëœë“œ",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Brand_0.jpg"
            },
            female: {
            name: "ì„¸ë¼í•€",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Seraphine_0.jpg"
            }
        },
        "default": {
            male: {
            name: "í‹°ëª¨",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Teemo_0.jpg"
            },
            female: {
            name: "í‹°ëª¨",
            image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Teemo_0.jpg"
            }
        }
      };

      const mbtiDescriptions = {
        "INTJ": "ì°¨ê°‘ê³  ì¹˜ë°€í•œ",
        "INTP": "ë…¼ë¦¬ì˜ ì‹¬ì—°ì— ë¹ ì§„",
        "ENTJ": "ë¦¬ë”ì˜ ë³¸ëŠ¥ì„ ì§€ë‹Œ",
        "ENTP": "ì˜ˆì¸¡ë¶ˆí—ˆì˜ ê¾¼",
        "INFJ": "ìš´ëª…ì˜ íë¦„ì„ ì½ëŠ”",
        "INFP": "ë§ˆìŒì´ ë”°ëœ»í•œ ëª½ìƒê°€",
        "ENFJ": "ë¶„ìœ„ê¸°ë¥¼ ì´ë„ëŠ” ì£¼ì¸ê³µ",
        "ENFP": "í™œë°œí•˜ê²Œ ë‚ ë›°ëŠ” í­ì£½",
        "ISTJ": "ë¬µë¬µíˆ ìŠ¹ë¦¬ë¥¼ ìŒ“ëŠ”",
        "ISFJ": "ì¡°ìš©íˆ íŒ€ì„ ë°›ì¹˜ëŠ”",
        "ESTJ": "ì§ˆì„œì™€ êµ¬ì¡°ì˜ ìˆ˜í˜¸ì",
        "ESFJ": "ëª¨ë‘ì˜ íŒ€ì›ì„ ì±™ê¸°ëŠ”",
        "ISTP": "ì¿¨í•˜ê³  ì¦‰í¥ì ì¸",
        "ISFP": "ì„¬ì„¸í•˜ê³  ê°ê°ì ì¸",
        "ESTP": "ë¬´ëŒ€ ìœ„ì˜ í•µì‹¬",
        "ESFP": "ì—ë„ˆì§€ ë„˜ì¹˜ëŠ” ì¥ë‚œê¾¸ëŸ¬ê¸°",
        "default": "ë¯¸ì§€ì˜ ì •ì²´ì„±ì„ ì§€ë‹Œ"
      };



      const champGroup = champions[mbti] || champions["default"];
      const desc = mbtiDescriptions[mbti] || mbtiDescriptions["default"];
      const champ = champGroup[gender] || champions["default"][gender];
      document.getElementById("resultBox").innerHTML =
        `
            <p><strong>${desc}</strong> ë‹¹ì‹ ì—ê²Œ ì–´ìš¸ë¦¬ëŠ” ì±”í”¼ì–¸ì€<br>
            <strong>${champ.name}</strong> ì…ë‹ˆë‹¤!</p>
            <img src="${champ.image}" alt="${champ.name}" style="max-width:100%; border-radius: 12px; margin-top: 20px;">
        `;


    };
  </script>
</body>
</html>
